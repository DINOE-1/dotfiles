[colors]
background = #1f222d
text-color = #81a1c1

focus-text-color = #81a1c1
unfocus-text-color = #4c566a



[bar/bottom]
bottom = true
background = ${colors.background}
height = 20pt
border-size = 0
font-0 = JetBrainsMonoNerdFontMono-Regular:size=10;3
font-1 = "Font Awesome 7 Free:style=Solid:size=10;3"

modules-left = session sep i3 sep network 
modules-center = date
modules-right = tray pulseaudio sep battery sep time 

[module/date]
type = internal/date
interval = 1.0
date = %Y-%m-%d%
format-foreground = ${colors.text-color}

[module/time]
type = internal/date
interval = 1.0
date = %H:%M:%S
format-foreground = ${colors.text-color}

[module/session]
type = custom/text

click-left = ~/.config/rofi/shells/powermenu.sh
content = %{T2}%{T-}
content-foreground = ${colors.text-color}

[module/tray]
type = internal/tray

format-margin = 8px
tray-spacing = 8px

[module/i3]
type = internal/i3
pin-workspaces = true
enable-click = true
enable-scroll = false
index-sort = false

label-focused = "%name% "
label-focused-foreground = ${colors.focus-text-color}

label-unfocused = "%name% "
label-unfocused-foreground = ${colors.unfocus-text-color}

label-urgent = %name%
label-urgent-foreground = #ee829f

[module/sep]
type = custom/text
label = " "

[module/pulseaudio]
type = internal/pulseaudio
interval = 5

; 建議：用 UI max（通常就是 100%）來做 ramp 分段，圖示切換更直覺
use-ui-max = true

; （可選）加一些操作：滾輪調音量、點中鍵切 mute、右鍵開 pavucontrol
; 需要系統有 pactl（PulseAudio 或 PipeWire-pulse 都行）
scroll-up = pamixer -i 5 --allow-boost --set-limit 100
scroll-down = pamixer -d 5
click-middle = pamixer -t
;click-right = pavucontrol

; 用 ramp icon + 百分比
format-volume = <ramp-volume> <label-volume>
label-volume = %percentage%%
label-volume-foreground = ${colors.text-color}

; muted 用 icon（Font Awesome：volume-xmark）
format-muted = <label-muted>
label-muted = %{T2}%{T-}
label-muted-foreground = #ee829f

; 音量分段 icon（從小到大）
; Font Awesome Free Solid:
;    (volume-off)   (volume-low)   (volume-high)   (headphones)   (bullhorn)
ramp-volume-0 = %{T2}%{T-}
ramp-volume-1 = %{T2}%{T-}
ramp-volume-2 = %{T2}%{T-}
ramp-volume-3 = %{T2}%{T-}

; 你原本的顏色設定：完全保留不動
ramp-volume-0-foreground = #bf616a
ramp-volume-1-foreground = #ebcb8b
ramp-volume-2-foreground = ${colors.text-color}

; 新增的 ramp 顏色：沿用你原本的 ${colors.text-color}（不引入新色）
ramp-volume-3-foreground = ${colors.text-color}

[module/battery]
type = internal/battery

; 用這個指令找你機器上的實際名稱，然後把 BAT0 / AC 改成對應的：
;   ls -1 /sys/class/power_supply/
battery = BAT0
adapter = AC

; 避免有些電池永遠到不了 100%
full-at = 99

; 低電量門檻（到這個百分比就走 format-low）
low-at = 15

; 輪詢（秒）
poll-interval = 5

; ----------------------------
; 顏色：不設背景，只設前景
; ----------------------------
format-charging-foreground = #81a1c1
format-discharging-foreground = #81a1c1
format-full-foreground = #81a1c1
format-low-foreground = #81a1c1

; ----------------------------
; 只顯示 icon + 百分比（盡量不用文字）
; ----------------------------
label-charging = %percentage%%
label-discharging = %percentage%%
label-full = %percentage%%
label-low = %percentage%%

; 可用 tag（ramp/animation/label 等）是內建 battery 模組支援的格式組合
format-charging = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>
format-full = <ramp-capacity> <label-full>
format-low = <animation-low> <label-low>

; ----------------------------
; 電量 icon：ramp-capacity 會依百分比自動選擇 0..4
; 用 %{T2} 強制切到 font-1（也就是上面設定的 Font Awesome）
; ----------------------------
ramp-capacity-0 = %{T2}%{T-}
ramp-capacity-1 = %{T2}%{T-}
ramp-capacity-2 = %{T2}%{T-}
ramp-capacity-3 = %{T2}%{T-}
ramp-capacity-4 = %{T2}%{T-}

; ----------------------------
; 充電動畫（同樣會用不同電量圖示輪播）
; ----------------------------
animation-charging-0 = %{T2}%{T-}
animation-charging-1 = %{T2}%{T-}
animation-charging-2 = %{T2}%{T-}
animation-charging-3 = %{T2}%{T-}
animation-charging-4 = %{T2}%{T-}
animation-charging-framerate = 750

; ----------------------------
; 低電量閃爍：空電池 <-> 警告（三角驚嘆號）
; ----------------------------
animation-low-0 = %{T2}%{T-}
animation-low-1 = %{T2}%{T-}
animation-low-framerate = 300

[module/network]
type = internal/network

; 建議用自動偵測 wireless
interface-type = wireless

interval = 1.0
accumulate-stats = true
unknown-as-up = true

; 速度單位字尾（預設就是 B/s，實際顯示會自動變成 KB/s / MB/s）
speed-unit = B/s

; 每 N 次更新 ping 一次 8.8.8.8
; ping 失敗會切到 format-packetloss
ping-interval = 10

; -------------------------
; 顏色：全部統一
; -------------------------
format-connected-foreground = ${colors.text-color}
format-disconnected-foreground = ${colors.text-color}
format-packetloss-foreground = ${colors.text-color}

label-connected-foreground = ${colors.text-color}
label-disconnected-foreground = ${colors.text-color}
label-packetloss-foreground = ${colors.text-color}

ramp-signal-foreground = ${colors.text-color}
animation-packetloss-0-foreground = ${colors.text-color}
animation-packetloss-1-foreground = ${colors.text-color}

; -------------------------
; 格式
; -------------------------
format-connected = <ramp-signal> <label-connected>
format-disconnected = <label-disconnected>

; 丟包/不通：換成警告圖標（也可用 label-packetloss）
format-packetloss = <animation-packetloss> <label-connected>

; -------------------------
; 內容（下載/上傳）
; %downspeed% / %upspeed% 內建 token
; :7 用來固定寬度，避免數字跳動造成整段抖動
; -------------------------
label-connected = %{T2}%{T-}%downspeed:7% %{T2}%{T-}%upspeed:7%

; 斷線狀態盡量不用文字（只用 icon）
label-disconnected = %{T2}%{T-} %{T2}%{T-}

; -------------------------
; WiFi 訊號強度圖示（0~5 段）
; Polybar 會依 %signal% 自動選 ramp-signal-N <!--citation:1-->
; 這裡做成「WiFi + 條」的效果：條越高表示訊號越強
; -------------------------
ramp-signal-0 = %{T2}%{T-}
ramp-signal-1 = %{T2}%{T-}
ramp-signal-2 = %{T2}%{T-}
ramp-signal-3 = %{T2}%{T-}
ramp-signal-4 = %{T2}%{T-}
ramp-signal-5 = %{T2}%{T-}

; -------------------------
; 丟包/不通時圖示切換（閃爍提示）
; -------------------------
animation-packetloss-0 = %{T2}%{T-}
animation-packetloss-1 = %{T2}%{T-}
animation-packetloss-framerate = 500

